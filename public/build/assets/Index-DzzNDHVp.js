import{r as o,W as Ce,j as e,Y as rt,a as dt,y as Se}from"./app-BdDiG5MF.js";import{e as it,A as nt}from"./AuthenticatedLayout-CBw7v3pZ.js";import{P as ct}from"./Pagination-D79vMfMK.js";import{T as m}from"./TextInput-BnM8wpwZ.js";import{I as a}from"./InputLabel-076v0EPL.js";import{I as u}from"./InputError-PGD3Jzm_.js";import{B as ot}from"./button-DTwe3eK1.js";import{S as oe}from"./SelectInput-B3moK6NF.js";import{P as xt,a as mt,C as ht,b as pt,c as gt,d as ut,e as jt,f as bt,g as vt,h as Nt,i as yt}from"./popover-CZyhr6LC.js";import{I as w}from"./input-DtIVPqHT.js";import{T as Ie,a as Me,b as F,c as O}from"./tabs-C4N2sP_9.js";import"./transition-Dkp8VegQ.js";import"./ThemeToggleButton-yQEJwIpi.js";import"./index-C2fsUSVT.js";/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=it("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);function $t({auth:y,site_settings:K,cars:V,customers:L,makes:$,models:f,vendors:A,destinations:I,lines:T,facilities:N,terminals:W,shipStatus:X,queryParams:k=null,ErrorAlert:Z,shippingFeeTypes:U}){k=k||{},o.useEffect(()=>{Z&&alert(Z)},[Z]);const[q,Oe]=o.useState(!1),[xe,Ve]=o.useState(!1),[De,me]=o.useState(null),[he,P]=o.useState(""),z=(t,s)=>{s?k[t]=s:delete k[t],delete k.page,Se.get(route("car.index"),k)},ee=(t,s)=>{s.key==="Enter"&&z(t,s.target.value)},Ee=t=>{window.confirm("هل انت متأكد من حذف السيارة ؟ ")&&Se.delete(route("car.destroy",t.id),{onSuccess:s=>{}})},[Le,te]=o.useState([]),[se,ae]=o.useState(""),{data:d,setData:x,post:$e,errors:h,reset:pe}=Ce({images:[],make_id:0,model_id:"",year:"",color:"",chassis:"",vin:"",shipping_expenses:[]}),R=()=>{te([]),Oe(!q),q||(pe(),ae(""),P(""),H([]),le(U),D(""),M(""))},Te=t=>{const s=t.target.files[0];x("carfax_report",s)},Pe=t=>{const s=Array.from(t.target.files),l=s.map(r=>({name:r.name,url:URL.createObjectURL(r)}));te(r=>[...r,...l]),x("images",[...d.images,...s])},Re=t=>{te(l=>l.filter((r,j)=>j!==t));const s=[...d.images];s.splice(t,1),x("images",s)},[G,ge]=o.useState(""),[ue,D]=o.useState(""),[Be,je]=o.useState([]),[be,M]=o.useState("");o.useEffect(()=>{if(G){const t=f.filter(s=>String(s.make_id)===String(G));je(t)}else je([])},[G,f]);const Ae=t=>{ge(t.id),D(t.name),x({...d,make_id:t.id,model_id:""})},Ue=t=>{const s=t.target.value??"";ae(s),x("chassis",s)},Ye=()=>{se&&axios.post(route("get-car-info"),{vin:se}).then(t=>{const s=t.data.response[0],{Make:l,Model:r,ModelYear:j,VIN:E}=s;let v="";if(s.Model===""||s.Make===""){v="لا يوجد بيانات لهذا VIN",P(v.trim());return}const c=$.find(S=>S.name.toLowerCase()===l.toLowerCase()),b=f.find(S=>S.name.toLowerCase()===r.toLowerCase()&&String(S.make_id)===String(c==null?void 0:c.id));!c&&!b?v=` الماركه ${l} و الموديل ${r} غير مسجلين بالنظام.`:c?b||(v=` الموديل ${r} غير مسجل بالنظام.`):v=` الماركه ${l} غير مسجله بالنظام.`,P(v.trim()),x({...d,make_id:c?c.id:"",model_id:b?b.id:"",year:j||"",chassis:E||""}),ge(c==null?void 0:c.id),D(c==null?void 0:c.name),M(b==null?void 0:b.name)}).catch(t=>{console.error("Failed to retrieve VIN data",t)})},[C,H]=o.useState([]),[J,le]=o.useState(U);o.useEffect(()=>{const t=C.reduce((s,l)=>s+(parseFloat(l.amount)||0),0);x({...d,shipping_expenses:C,shipping_cost:t})},[C]);const Ke=t=>{H([...C,{fee_id:t.id,name:t.name,amount:""}]),le(J.filter(s=>String(s.id)!==String(t.id)))},ve=(t,s,l)=>{const r=[...C];r[t][s]=l,H(r)},We=(t,s)=>{s.preventDefault();const l=C[t];H(C.filter((j,E)=>E!==t));const r=U.find(j=>String(j.id)===String(l.fee_id));r&&le([...J,r])},ze=t=>{t.preventDefault(),$e(route("car.store"),{onSuccess:()=>{pe(),ae(""),R(),D(""),M("")}})},{data:n,setData:i,post:Ge,errors:g,reset:re}=Ce({_method:"PUT"}),[Ne,ye]=o.useState([]),[He,de]=o.useState([]),[ie,fe]=o.useState(""),B=(t=null)=>{t?(re(),de([]),me(t),P(""),Q(t.shipping_expenses),ne(U.filter(s=>!(_||[]).some(l=>String(l.fee_id)===String(s.id)))),i({make_id:t.make_id,model_id:t.model_id,id:t.id,user_id:t.user_id,box_id:t.box_id,chassis:t.chassis,title:t.title,keys:t.keys,lot:t.lot,bookingNo:t.bookingNo,container_number:t.container_number,color:t.color,year:t.year,vendor_id:t.vendor_id,destination_id:t.destination_id,line_id:t.line_id,terminal_id:t.terminal_id,facility_id:t.facility_id,carfax_report:t.carfax_report,ship_status:t.ship_status,estimate_arrival_date:t.estimate_arrival_date,arrival_date:t.arrival_date,date_won:t.date_won,images:[],old_images_url:t.images_creators,shipping_expenses:t.shipping_expenses,shipping_cost:t.shipping_cost,won_price:t.won_price,_method:"PUT"}),ye(t.images_creators),fe(t.chassis||""),ce(t.make_id),D(t.make_name),M(t.model_name)):(me(null),re()),Ve(!xe)},[_,Q]=o.useState([]),[_e,ne]=o.useState();o.useEffect(()=>{const t=(_||[]).reduce((s,l)=>s+(parseFloat(l.amount)||0),0);i({...n,shipping_expenses:_,shipping_cost:t})},[_]);const Je=t=>{Q([..._,{fee_id:t.id,name:t.name,created_at:t.created_at,amount:""}]),ne(_e.filter(s=>String(s.id)!==String(t.id)))},we=(t,s,l)=>{const r=[..._];r[t][s]=l,Q(r)},Qe=(t,s)=>{s.preventDefault();const l=_[t];Q(_.filter((j,E)=>E!==t));const r=U.find(j=>String(j.id)===String(l.fee_id));r&&ne([...J,r])},Xe=t=>{const s=Array.from(t.target.files),l=s.map(r=>({name:r.name,url:URL.createObjectURL(r)}));de(r=>[...r,...l]),i("images",[...n.images,...s])},Ze=t=>{ye(l=>l.filter((r,j)=>j!==t));const s=[...Ne];s.splice(t,1),i("old_images_url",s)},qe=t=>{de(l=>l.filter((r,j)=>j!==t));const s=[...n.images];s.splice(t,1),i("images",s)},[Y,ce]=o.useState(n.make_id||null),[et,ke]=o.useState([]);o.useEffect(()=>{if(Y){const t=f.filter(s=>String(s.make_id)===String(Y));ke(t)}else ke(f)},[Y,f]);const tt=t=>{ce(t.id),D(t.name),M(""),i({...n,make_id:t.id,model_id:""})},st=t=>{const s=t.target.value??"";fe(s),i("chassis",s)},at=()=>{ie&&axios.post(route("get-car-info"),{vin:ie}).then(t=>{const s=t.data.response[0],{Make:l,Model:r,ModelYear:j,VIN:E}=s;let v="";if(s.Model===""||s.Make===""){v="لا يوجد بيانات لهذا VIN",P(v.trim());return}const c=$.find(S=>S.name.toLowerCase()===l.toLowerCase()),b=f.find(S=>S.name.toLowerCase()===r.toLowerCase()&&String(S.make_id)===String(c==null?void 0:c.id));!c&&!b?v=` الماركه ${l} و الموديل ${r} غير مسجلين بالنظام.`:c?b||(v=` الموديل ${r} غير مسجل بالنظام.`):v=` الماركه ${l} غير مسجله بالنظام.`,P(v.trim()),i({...n,make_id:c?c.id:"",model_id:b?b.id:"",year:j||"",chassis:E||""}),ce(c==null?void 0:c.id),D(c==null?void 0:c.name),M(b==null?void 0:b.name)}).catch(t=>{console.error("Failed to retrieve VIN data for editing",t)})},lt=t=>{t.preventDefault(),Ge(route("car.update",De.id),{onSuccess:()=>{re(),B()}})};return e.jsxs(nt,{user:y.user,site_settings:K,header:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-base font-semibold leading-tight md:text-xl dark:text-gray-200",children:"السيارات"}),y.user.permissions.includes("create-car")&&e.jsx("button",{onClick:R,className:"px-3 py-1 text-white transition-all rounded shadow bg-burntOrange ",children:"إضافة سيارة"})]}),children:[e.jsx(rt,{title:K.websiteName+" - السيارات"}),e.jsx("div",{className:"",children:e.jsx("div",{className:"mx-auto ",children:e.jsx("div",{className:"overflow-hidden overflow-y-auto bg-white shadow-sm dark:bg-gray-800 ",children:e.jsxs("div",{className:"p-3 text-gray-900 md:p-3 dark:text-gray-100",children:[e.jsx("div",{className:"overflow-auto",children:e.jsxs("table",{className:"w-full text-sm text-left text-gray-500 rtl:text-right dark:text-gray-400",children:[e.jsx("thead",{className:"text-gray-700 uppercase border-b-2 border-gray-500 bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:e.jsxs("tr",{className:"text-nowrap",children:[e.jsx("th",{className:"p-3",children:"ID"}),e.jsx("th",{className:"p-3",children:"اسم الشركه"}),e.jsx("th",{className:"p-3",children:"VIN"}),e.jsx("th",{className:"p-3",children:"Make"}),e.jsx("th",{className:"p-3",children:"Model"}),e.jsx("th",{className:"p-3",children:"Year"}),e.jsx("th",{className:"p-3",children:"Status"}),e.jsx("th",{className:"p-3 text-center",children:"الإجراءات"})]})}),e.jsx("thead",{className:"text-xs text-gray-700 uppercase border-b-2 border-gray-500 bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:e.jsxs("tr",{className:"text-nowrap",children:[e.jsx("th",{className:"p-3"}),e.jsx("th",{className:"p-3",children:e.jsx(m,{className:"w-full",defaultValue:k.customer_company,placeholder:"اسم العميل",onBlur:t=>z("customer_company",t.target.value),onKeyPress:t=>ee("customer_company",t)})}),e.jsx("th",{className:"p-3",children:e.jsx(m,{className:"w-full",defaultValue:k.chassis,placeholder:"VIN",onBlur:t=>z("chassis",t.target.value),onKeyPress:t=>ee("chassis",t)})}),e.jsx("th",{className:"p-3"}),e.jsx("th",{className:"p-3"}),e.jsx("th",{className:"p-3"}),e.jsx("th",{className:"p-3",children:e.jsxs(oe,{className:"w-full",defaultValue:k.ship_status,onChange:t=>z("ship_status",t.target.value),onKeyPress:t=>ee("ship_status",t),children:[e.jsx("option",{value:"",children:"اختر"}),X.map(t=>e.jsx("option",{value:t.name,children:t.name},t.id))]})}),e.jsx("th",{className:"p-3"})]})}),e.jsx("tbody",{children:V&&V.data.length>0?V.data.map((t,s)=>e.jsxs("tr",{className:`${s%2===0?"bg-white":"bg-gray-100"} border-b dark:${s%2===0?"bg-gray-800":"bg-gray-700"} dark:border-gray-700`,children:[e.jsx("td",{className:"px-3 py-2",children:t.id}),e.jsx("td",{className:"px-3 py-2 text-nowrap",children:t.customer_company}),e.jsx("td",{className:"px-3 py-2 text-nowrap",children:e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsx("span",{className:"text-lg text-black dark:text-white",children:t.chassis}),e.jsxs("div",{className:"text-sm lg:text-base",children:[e.jsx("span",{className:"mr-1",children:t.make_name}),e.jsx("span",{className:"mr-1",children:t.model_name}),e.jsx("span",{children:t.year})]})]})}),e.jsx("td",{className:"px-3 py-2 text-nowrap",children:t.make_name}),e.jsx("td",{className:"px-3 py-2 text-nowrap",children:t.model_name}),e.jsx("td",{className:"px-3 py-2 text-nowrap",children:t.year}),e.jsx("td",{className:"px-3 py-2 text-nowrap",children:t.ship_status}),e.jsxs("td",{className:"gap-2 px-3 py-2 text-center ",children:[y.user.permissions.includes("update-car")&&e.jsx("button",{onClick:()=>B(t),className:"mx-1 font-medium text-blue-600 dark:text-blue-500 hover:underline",children:"تعديل"}),y.user.permissions.includes("delete-car")&&e.jsx("button",{onClick:()=>Ee(t),className:"mx-1 font-medium text-red-600 dark:text-red-500 hover:underline",children:"حذف"}),e.jsx(dt,{href:route("car.show",t.id),className:"mx-1 font-medium text-emerald-600 dark:text-emerald-500 hover:underline",children:"مشاهدة"})]})]},t.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"8",className:"px-3 py-2 text-center",children:"لا يوجد سيارات"})})})]})}),V&&e.jsx(ct,{links:V.meta.links})]})})})}),q&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:e.jsx("form",{onSubmit:ze,className:"relative w-10/12 max-h-[95vh] overflow-y-auto transition-all duration-300 ease-in-out transform bg-white rounded-lg shadow-lg dark:bg-gray-800 animate-in",children:e.jsxs(Ie,{defaultValue:"general",children:[e.jsxs(Me,{className:"sticky top-0 z-10 flex gap-4 p-4 bg-white border-b justify-content dark:bg-gray-800",children:[e.jsxs("div",{children:[e.jsx(F,{value:"general",children:"General"}),e.jsx(F,{value:"shipping",children:"Shipping"}),e.jsx(F,{value:"shipping_fees",children:"Shipping Fees"}),e.jsx(F,{value:"photos",children:"Car Photos"})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-2 mt:m-0",children:[e.jsx("span",{className:"text-xs font-semibold text-nowrap md:text-xl dark:text-white",children:d.chassis}),e.jsx("span",{className:"text-xs font-semibold text-nowrap md:text-xl dark:text-white",children:be}),e.jsx("span",{className:"text-xs font-semibold text-nowrap md:text-xl dark:text-white",children:ue}),e.jsx("h2",{className:"text-xs font-semibold text-nowrap md:text-2xl dark:text-white",children:"إضافة سيارة"})]})]}),e.jsx(O,{value:"general",children:e.jsxs("div",{className:"flex flex-col justify-between h-[85vh] overflow-auto",children:[e.jsx("div",{className:"p-3 md:p-6 ",children:e.jsxs("div",{className:"grid items-center gap-5 md:my-10 md:grid-cols-2 sm:grid-cols-1 ",children:[e.jsxs("div",{children:[e.jsx(a,{className:"mt-2 text-base md:text-xl text-nowrap",htmlFor:"user_id",value:"Customer"}),e.jsxs("div",{className:"flex gap-5 mt-2",children:[e.jsx(p,{items:L.data,onItemSelect:t=>x("user_id",t.id),selectedMakeId:d.user_id,placeholder:"اختر العميل",emptyMessage:"لا يوجد عملاء"}),e.jsx(u,{message:"*",className:"mt-2 text-base md:text-xl"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsx(a,{htmlFor:"vin",className:"mt-2 text-base md:text-xl text-nowrap",value:"VIN"}),e.jsx(u,{message:he,className:"mt-2 text-xs"})]}),e.jsxs("div",{className:"flex gap-5 mt-2",children:[e.jsx(m,{id:"vin",type:"text",name:"vin",className:"block w-full mt-1",onChange:Ue,onBlur:Ye,value:se??""}),e.jsx(u,{message:"*",className:"mt-2 text-base md:text-xl"})]})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-base md:text-xl text-nowrap",htmlFor:"make_id",value:"Make"}),e.jsxs("div",{className:"flex gap-5 mt-2",children:[e.jsx(p,{items:$,onItemSelect:Ae,placeholder:"اختر الماركه",emptyMessage:"لا يوجد مركات",selectedMakeId:d.make_id,value:d.make_id||""}),e.jsx(u,{message:"*",className:"mt-2 text-base md:text-xl"})]})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-base md:text-xl text-nowrap",htmlFor:"model_id",value:"Model"}),e.jsxs("div",{className:"flex gap-5 mt-2",children:[e.jsx(p,{items:Be,onItemSelect:t=>{x("model_id",t.id),M(t.name)},placeholder:"اختر الموديل",emptyMessage:"لا يوجد موديلات",disabled:!G,selectedMakeId:d.model_id,value:d.model_id||""}),e.jsx(u,{message:"*",className:"mt-2 text-base md:text-xl"})]})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"color",className:"mt-2 text-base md:text-xl text-nowrap",value:"Color"}),e.jsxs("div",{className:"flex gap-5 mt-2",children:[e.jsx(m,{id:"color",type:"text",name:"color",value:d.color,className:"block w-full mt-1",onChange:t=>x("color",t.target.value)}),e.jsx(u,{message:"*",className:"mt-2 text-base md:text-xl"})]})]}),e.jsxs("div",{children:[e.jsx(a,{className:"mt-2 text-base md:text-xl text-nowrap",htmlFor:"year",value:"Year"}),e.jsxs("div",{className:"flex gap-5 mt-2",children:[e.jsx(m,{type:"number",id:"year",name:"year",value:d.year??"",className:"block w-full mt-1",onChange:t=>x("year",t.target.value)}),e.jsx(u,{message:"*",className:"mt-2 text-base md:text-xl"})]})]}),e.jsxs("div",{className:"flex gap-5 mt-3 w-fit",children:[e.jsx(a,{htmlFor:"carfax_report",className:"mt-2 text-base md:text-xl text-nowrap",value:"Carfax Report"}),e.jsx(w,{id:"date_won",type:"file",name:"carfax_report",className:"block w-full mt-1",onChange:Te}),e.jsx(u,{message:h.carfax_report,className:"mt-2"})]}),e.jsxs("div",{className:"flex gap-5",children:[e.jsx("div",{children:e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsx(a,{className:"text-base md:text-xl",htmlFor:"keys",value:"keys"}),e.jsx("div",{className:"flex gap-5 ",children:e.jsx(w,{type:"checkbox",id:"keys",className:"w-6 h-6 rounded mt-0.5",onChange:t=>x("keys",t.target.checked?1:0)})})]})}),e.jsx("div",{children:e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsx(a,{className:"text-base md:text-xl",htmlFor:"title",value:"Title"}),e.jsx("div",{className:"flex gap-5 ",children:e.jsx(w,{type:"checkbox",id:"title",className:"w-6 h-6 rounded mt-0.5",onChange:t=>x("title",t.target.checked?1:0)})})]})})]})]})}),h&&Object.keys(h).length>0&&e.jsx("div",{className:"p-3 md:p-6",children:e.jsx("ul",{className:"mt-2 text-red-600 list-disc list-inside",children:Object.keys(h).map(t=>e.jsx("li",{children:h[t]},t))})}),e.jsxs("div",{className:"flex justify-end gap-3 m-5",children:[e.jsx("button",{type:"button",onClick:R,className:"px-4 py-2 text-white bg-gray-600 rounded hover:bg-gray-700",children:"إلغاء"}),e.jsx("button",{type:"submit",className:"px-4 py-2 text-white rounded bg-burntOrange ",children:"حفظ"})]})]})}),e.jsx(O,{value:"shipping",children:e.jsxs("div",{className:" flex flex-col justify-between h-[85vh] overflow-auto",children:[e.jsxs("div",{className:"p-3 md:p-6",children:[e.jsxs("div",{className:"grid gap-5 mb-10 sm:grid-cols-1 md:grid-cols-2 ",children:[e.jsxs("div",{children:[e.jsx(a,{className:"my-2 text-base md:text-xl text-nowrap",htmlFor:"ship_status",value:"Shipping Status"}),e.jsxs(oe,{id:"ship_status",name:"ship_status",value:d.ship_status||"",onChange:t=>x("ship_status",t.target.value),children:[e.jsx("option",{value:"",children:"اختر"}),X.map(t=>e.jsx("option",{value:t.name,children:t.name},t.id))]})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"lot",className:"my-2 text-base md:text-xl text-nowrap",value:"Lot /Stock"}),e.jsx(m,{id:"lot",type:"text",name:"lot",value:d.lot,className:"block w-full mt-1",onChange:t=>x("lot",t.target.value)})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"bookingNo",className:"my-2 text-base md:text-xl text-nowrap",value:"BookingNo"}),e.jsx(m,{id:"bookingNo",type:"text",name:"bookingNo",value:d.bookingNo,className:"block w-full mt-1",onChange:t=>x("bookingNo",t.target.value)})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"container_number",className:"my-2 text-base md:text-xl text-nowrap",value:"Container Number"}),e.jsx(m,{id:"container_number",type:"text",name:"container_number",value:d.container_number,className:"block w-full mt-1",onChange:t=>x("container_number",t.target.value)})]}),e.jsxs("div",{children:[e.jsx(a,{className:"my-2 text-base md:text-xl text-nowrap",htmlFor:"vendor_id",value:"Vendor"}),e.jsx(p,{items:A,onItemSelect:t=>x("vendor_id",t.id),placeholder:"اختر المزاد",emptyMessage:"لا يوجد مزادات"})]}),e.jsxs("div",{children:[e.jsx(a,{className:"my-2 text-base md:text-xl text-nowrap",htmlFor:"destination_id",value:"Destination"}),e.jsx(p,{items:I,onItemSelect:t=>x("destination_id",t.id),selectedMakeId:d.destination_id,placeholder:"اختر الوجهة",emptyMessage:"لا يوجد وحهات"})]}),e.jsxs("div",{children:[e.jsx(a,{className:"my-2 text-base md:text-xl text-nowrap",htmlFor:"line_id",value:"Shipping line"}),e.jsx(p,{items:T,onItemSelect:t=>x("line_id",t.id),selectedMakeId:d.line_id,placeholder:"اختر الخط الملاحي",emptyMessage:"لا يوجد خطوط ملاحيه"})]}),e.jsxs("div",{children:[e.jsx(a,{className:"my-2 text-base md:text-xl text-nowrap",htmlFor:"facility_id",value:"Facility"}),e.jsx(p,{items:N,onItemSelect:t=>x("facility_id",t.id),selectedMakeId:d.facility_id,placeholder:"اختر المرفق",emptyMessage:"لا يوجد مرافق"})]}),e.jsxs("div",{children:[e.jsx(a,{className:"my-2 text-base md:text-xl text-nowrap",htmlFor:"terminal_id",value:"Terminal"}),e.jsx(p,{items:W,onItemSelect:t=>x("terminal_id",t.id),selectedMakeId:d.terminal_id,placeholder:"اختر محطة الشحن",emptyMessage:"لا يوجد محطات شحن"})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"date_won",className:"mt-2 text-base md:text-xl text-nowrap",value:"Date Won"}),e.jsx(m,{id:"date_won",type:"date",name:"date_won",value:d.date_won,className:"block w-full mt-1",onChange:t=>x("date_won",t.target.value)})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"estimate_arrival_date",className:"mt-2 text-base md:text-xl text-nowrap",value:"Estimate Arrival Date"}),e.jsx(m,{id:"estimate_arrival_date",type:"date",name:"estimate_arrival_date",value:d.estimate_arrival_date,className:"block w-full mt-1",onChange:t=>x("estimate_arrival_date",t.target.value)})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"arrival_date",className:"mt-2 text-base md:text-xl text-nowrap",value:"Arrival Date"}),e.jsx(m,{id:"arrival_date",type:"date",name:"arrival_date",value:d.arrival_date,className:"block w-full mt-1",onChange:t=>x("arrival_date",t.target.value)})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"won_price",className:"my-2 text-base md:text-xl text-nowrap",value:"Won Price"}),e.jsx(m,{id:"won_price",type:"number",name:"won_price",value:d.won_price,className:"block w-full mt-1",onChange:t=>x("won_price",t.target.value)})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"shipping_cost",className:"my-2 text-base md:text-xl text-nowrap",value:"Shipping Cost"}),e.jsx("h2",{className:"text-2xl",children:d.shipping_cost})]})]}),h&&Object.keys(h).length>0&&e.jsx("div",{className:"p-3 md:p-6",children:e.jsx("ul",{className:"mt-2 text-red-600 list-disc list-inside",children:Object.keys(h).map(t=>e.jsx("li",{children:h[t]},t))})})]}),e.jsxs("div",{className:"flex justify-end gap-3 m-5",children:[e.jsx("button",{type:"button",onClick:R,className:"px-4 py-2 text-white bg-gray-600 rounded hover:bg-gray-700",children:"إلغاء"}),e.jsx("button",{type:"submit",className:"px-4 py-2 text-white rounded bg-burntOrange ",children:"حفظ"})]})]})}),e.jsx(O,{value:"shipping_fees",children:e.jsxs("div",{className:" flex flex-col justify-between h-[85vh] overflow-auto",children:[e.jsxs("div",{children:[e.jsx("div",{className:"flex justify-between w-3/5 m-5 md:w-1/5",children:e.jsx(p,{items:J,onItemSelect:Ke,placeholder:"اختر تكلفة الشحن",emptyMessage:"لا يوجد تكاليف شحن"})}),e.jsx("div",{className:"w-[98%] mx-auto",children:C.length===0?e.jsx("div",{className:"m-10 text-center text-gray-500 dark:text-gray-400",children:"لم يتم اختيار اي تكاليف شحن"}):e.jsxs("table",{className:"w-full text-gray-700 border-collapse dark:text-gray-100",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-200 dark:bg-gray-600",children:[e.jsx("th",{className:"p-2 text-xs border dark:border-gray-700 text-nowrap md:text-base",children:"التكلفة"}),e.jsx("th",{className:"p-2 text-xs border dark:border-gray-700 text-nowrap md:text-base",children:"القيمة"}),e.jsx("th",{className:"p-2 text-xs border dark:border-gray-700 text-nowrap md:text-base",children:"التاريخ"}),e.jsx("th",{className:"p-2 text-xs border dark:border-gray-700 text-nowrap md:text-base",children:"إجراءات"})]})}),e.jsxs("tbody",{children:[C.map((t,s)=>e.jsxs("tr",{className:`${s%2===0?"bg-white":"bg-gray-100"} border-b dark:${s%2===0?"bg-gray-800":"bg-gray-700"} dark:border-gray-700`,children:[e.jsx("td",{className:"p-2 text-xs border text-nowrap md:text-base dark:border-gray-700",children:t.name}),e.jsx("td",{className:"p-2 border dark:border-gray-700",children:e.jsx(m,{type:"number",value:t.amount,className:"w-full p-1 bg-transparent dark:text-gray-200 min-w-28",onChange:l=>ve(s,"amount",l.target.value)})}),e.jsx("td",{className:"p-2 text-center border dark:border-gray-700 text-nowrap",children:e.jsx(w,{type:"date",value:t.created_at,className:"w-full p-1 bg-transparent dark:text-gray-200 min-w-28",onChange:l=>ve(s,"created_at",l.target.value)})}),e.jsx("td",{className:"p-2 text-center border dark:border-gray-700 text-nowrap",children:e.jsx("button",{type:"button",className:"p-1 text-red-600 hover:bg-red-100 dark:text-red-400 dark:hover:bg-red-800",onClick:l=>We(s,l),children:e.jsx(Fe,{className:"w-4 h-4"})})})]},s)),e.jsxs("tr",{className:"font-bold bg-gray-200 dark:bg-gray-600",children:[e.jsx("td",{className:"p-2 border dark:border-gray-700",colSpan:"1",children:"Shipping Cost"}),e.jsx("td",{className:"p-2 border dark:border-gray-700",colSpan:"3",children:d.shipping_cost})]})]})]})})]}),h&&Object.keys(h).length>0&&e.jsx("div",{className:"p-3 md:p-6",children:e.jsx("ul",{className:"mt-2 text-red-600 list-disc list-inside",children:Object.keys(h).map(t=>e.jsx("li",{children:h[t]},t))})}),e.jsxs("div",{className:"flex justify-end gap-3 m-5",children:[e.jsx("button",{type:"button",onClick:R,className:"px-4 py-2 text-white bg-gray-600 rounded hover:bg-gray-700",children:"إلغاء"}),e.jsx("button",{type:"submit",className:"px-4 py-2 text-white rounded bg-burntOrange ",children:"حفظ"})]})]})}),e.jsx(O,{value:"photos",children:e.jsxs("div",{className:"flex flex-col justify-between  h-[85vh] ",children:[e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"md:w-1/2 lg:w-1/4",children:[e.jsx(a,{htmlFor:"images",className:"mt-2 text-base md:text-xl text-nowrap",value:"Car Photos"}),e.jsx(w,{id:"images",type:"file",name:"images",multiple:!0,className:"block w-full mt-1",onChange:Pe}),e.jsx(u,{message:h.images,className:"mt-2"})]}),e.jsx("div",{className:"gap-4 mt-4 sm:columns-2 md:columns-5",children:Le.map((t,s)=>e.jsxs("div",{className:"relative mb-4 break-inside-avoid",children:[e.jsx("span",{className:"absolute text-3xl font-bold text-red-500 cursor-pointer top-3 left-3",onClick:()=>Re(s),children:"×"}),e.jsx("img",{className:"w-full h-auto rounded-lg",src:t.url,alt:t.name})]},s))}),h&&Object.keys(h).length>0&&e.jsx("div",{className:"p-3 md:p-6",children:e.jsx("ul",{className:"mt-2 text-red-600 list-disc list-inside",children:Object.keys(h).map(t=>e.jsx("li",{children:h[t]},t))})})]}),e.jsxs("div",{className:"flex justify-end gap-2 m-5",children:[e.jsx("button",{type:"button",onClick:R,className:"px-4 py-2 text-white bg-gray-600 rounded hover:bg-gray-700",children:"إلغاء"}),e.jsx("button",{type:"submit",className:"px-4 py-2 text-white rounded bg-burntOrange ",children:"حفظ"})]})]})})]})})}),xe&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:e.jsx("form",{onSubmit:lt,className:"relative w-10/12 max-h-[95vh]  overflow-y-auto transition-all duration-300 ease-in-out transform bg-white rounded-lg shadow-lg dark:bg-gray-800 animate-in",children:e.jsxs(Ie,{defaultValue:"general",children:[e.jsxs(Me,{className:"sticky top-0 z-10 flex p-4 bg-white border-b justify-content dark:bg-gray-800",children:[e.jsxs("div",{children:[e.jsx(F,{value:"general",children:"General"}),e.jsx(F,{value:"shipping",children:"Shipping"}),e.jsx(F,{value:"shipping_fees",children:"Shipping Fees"}),e.jsx(F,{value:"photos",children:"Car Photos"})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-2 mt:m-0",children:[e.jsx("span",{className:"text-xs font-semibold text-nowrap md:text-xl dark:text-white",children:n.chassis}),e.jsx("span",{className:"text-xs font-semibold text-nowrap md:text-xl dark:text-white",children:be}),e.jsx("span",{className:"text-xs font-semibold text-nowrap md:text-xl dark:text-white",children:ue}),e.jsx("h2",{className:"text-xs font-semibold text-nowrap md:text-2xl dark:text-white",children:"تعديل سيارة"})]})]}),e.jsx(O,{value:"general",children:e.jsxs("div",{className:" flex flex-col justify-between h-[85vh] overflow-auto",children:[e.jsxs("div",{className:"p-3 md:p-6 ",children:[e.jsxs("div",{className:"grid items-center gap-5 md:my-10 sm:grid-cols-2 md:grid-cols-2 ",children:[e.jsxs("div",{children:[e.jsx(a,{className:"text-base md:text-xl text-nowrap",htmlFor:"user_id",value:"Customer"}),e.jsxs("div",{className:"flex gap-5 mt-2",children:[e.jsx(p,{items:L.data,onItemSelect:t=>i("user_id",t.id),selectedMakeId:n.user_id,placeholder:"اختر العميل",emptyMessage:"لا يوجد عملاء"}),e.jsx(u,{message:"*",className:"mt-2 text-base md:text-xl"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsx(a,{htmlFor:"edit_vin",className:"mt-2 text-base md:text-xl text-nowrap",value:"VIN"}),e.jsx(u,{message:he,className:"mt-2 text-xs"})]}),e.jsxs("div",{className:"flex gap-5 mt-2",children:[e.jsx(m,{id:"edit_vin",type:"text",name:"edit_vin",className:"block w-full mt-1",value:ie??"",onChange:st,onBlur:at}),e.jsx(u,{message:"*",className:"mt-2 text-base md:text-xl"})]})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-base md:text-xl text-nowrap",htmlFor:"edit_make_id",value:"Make"}),e.jsxs("div",{className:"flex gap-5 mt-2",children:[e.jsx(p,{items:$,onItemSelect:tt,selectedMakeId:Y,placeholder:"اختر الماركه",emptyMessage:"لا يوجد مركات"}),e.jsx(u,{message:"*",className:"mt-2 text-base md:text-xl"})]})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-base md:text-xl text-nowrap",htmlFor:"edit_model_id",value:"Model"}),e.jsxs("div",{className:"flex gap-5 mt-2",children:[e.jsx(p,{items:et,onItemSelect:t=>{i("model_id",t.id),M(t.name)},selectedMakeId:n.model_id,placeholder:"اختر الموديل",emptyMessage:"لا يوجد موديلات",disabled:!Y}),e.jsx(u,{message:"*",className:"mt-2 text-base md:text-xl"})]})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"edit_color",className:"mt-2 text-base md:text-xl text-nowrap",value:"Color"}),e.jsxs("div",{className:"flex gap-5 mt-2",children:[e.jsx(m,{id:"edit_color",type:"text",name:"color",value:n.color,className:"block w-full mt-1",onChange:t=>i("color",t.target.value)}),e.jsx(u,{message:"*",className:"mt-2 text-base md:text-xl"})]})]}),e.jsxs("div",{children:[e.jsx(a,{className:"mt-2 text-base md:text-xl text-nowrap",htmlFor:"edit_year",value:"Year"}),e.jsxs("div",{className:"flex gap-5 mt-2",children:[e.jsx(m,{type:"number",id:"edit_year",name:"year",value:n.year,className:"block w-full mt-1",onChange:t=>i("year",t.target.value)}),e.jsx(u,{message:"*",className:"mt-2 text-base md:text-xl"})]})]}),e.jsxs("div",{className:"flex gap-5 w-fit",children:[e.jsx(a,{htmlFor:"edit_carfax_report",className:"mt-2 text-base md:text-xl text-nowrap",value:"Carfax Report"}),e.jsx(w,{id:"edit_carfax_report",type:"file",name:"carfax_report",className:"block w-full mt-1",onChange:t=>i("carfax_report",t.target.files[0])})]}),e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsxs("div",{className:"flex gap-5",children:[e.jsx(a,{className:"text-base md:text-xl",htmlFor:"edit_keys",value:"Keys"}),e.jsx(w,{type:"checkbox",id:"edit_keys",checked:n.keys==1,className:"w-6 h-6 rounded mt-0.5",onChange:t=>i("keys",t.target.checked?1:0)})]}),e.jsxs("div",{className:"flex gap-5",children:[e.jsx(a,{className:"text-base md:text-xl",htmlFor:"edit_title",value:"Title"}),e.jsx(w,{type:"checkbox",id:"edit_title",checked:n.title==1,className:"w-6 h-6 rounded mt-0.5",onChange:t=>i("title",t.target.checked?1:0)})]})]})]}),g&&Object.keys(g).length>0&&e.jsx("div",{className:"p-3 md:p-6",children:e.jsx("ul",{className:"mt-2 text-red-600 list-disc list-inside",children:Object.keys(g).map(t=>e.jsx("li",{children:g[t]},t))})})]}),e.jsxs("div",{className:"flex justify-end gap-2 m-5",children:[e.jsx("button",{type:"button",onClick:()=>B(),className:"px-4 py-2 text-white bg-gray-600 rounded hover:bg-gray-700",children:"إلغاء"}),e.jsx("button",{type:"submit",className:"px-4 py-2 text-white rounded bg-burntOrange ",children:"حفظ التغييرات"})]})]})}),e.jsx(O,{value:"shipping",children:e.jsxs("div",{className:"flex flex-col justify-between h-[85vh] overflow-auto",children:[e.jsxs("div",{className:"p-3 md:p-6",children:[e.jsxs("div",{className:"grid items-center justify-center grid-cols-1 gap-5 md:my-10 md:grid-cols-2 ",children:[e.jsxs("div",{children:[e.jsx(a,{className:"my-2 text-base md:text-xl text-nowrap",htmlFor:"ship_status",value:"Shipping Status"}),e.jsxs(oe,{id:"ship_status",name:"ship_status",value:n.ship_status||"",onChange:t=>i("ship_status",t.target.value),children:[e.jsx("option",{value:"",children:"اختر"}),X.map(t=>e.jsx("option",{value:t.name,children:t.name},t.id))]})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"edit_lot",className:"my-2 text-base md:text-xl text-nowrap",value:"Lot /Stock"}),e.jsx(m,{id:"edit_lot",type:"text",name:"lot",value:n.lot,className:"block w-full mt-1",onChange:t=>i("lot",t.target.value)})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"edit_bookingNo",className:"my-2 text-base md:text-xl text-nowrap",value:"bookingNo"}),e.jsx(m,{id:"edit_bookingNo",type:"text",name:"bookingNo",value:n.bookingNo,className:"block w-full mt-1",onChange:t=>i("bookingNo",t.target.value)})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"edit_container_number",className:"my-2 text-base md:text-xl text-nowrap",value:"Container Number"}),e.jsx(m,{id:"edit_container_number",type:"text",name:"container_number",value:n.container_number,className:"block w-full mt-1",onChange:t=>i("container_number",t.target.value)})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-base md:text-xl text-nowrap",htmlFor:"edit_vendor_id",value:"Vendor"}),e.jsx(p,{items:A,onItemSelect:t=>i("vendor_id",t.id),selectedMakeId:n.vendor_id,placeholder:"اختر المزاد",emptyMessage:"لا يوجد مزادات"})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-base md:text-xl text-nowrap",htmlFor:"edit_destination_id",value:"Destination"}),e.jsx(p,{items:I,onItemSelect:t=>i("destination_id",t.id),selectedMakeId:n.destination_id,placeholder:"اختر الوجهة",emptyMessage:"لا يوجد وحهات"})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-base md:text-xl text-nowrap",htmlFor:"edit_line_id",value:"Shipping line"}),e.jsx(p,{items:T,onItemSelect:t=>i("line_id",t.id),selectedMakeId:n.line_id,placeholder:"اختر الخط الملاحي",emptyMessage:"لا يوجد خطوط ملاحيه"})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-base md:text-xl text-nowrap",htmlFor:"edit_facility_id",value:"Facility"}),e.jsx(p,{items:N,onItemSelect:t=>i("facility_id",t.id),selectedMakeId:n.facility_id,placeholder:"اختر المرفق",emptyMessage:"لا يوجد مرافق"})]}),e.jsxs("div",{children:[e.jsx(a,{className:"text-base md:text-xl text-nowrap",htmlFor:"edit_terminal_id",value:"Terminal"}),e.jsx(p,{items:W,onItemSelect:t=>i("terminal_id",t.id),selectedMakeId:n.terminal_id,placeholder:"اختر محطة الشحن",emptyMessage:"لا يوجد محطات شحن"})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"edit_date_won",className:"my-2 text-base md:text-xl text-nowrap",value:"Date Won "}),e.jsx(m,{id:"edit_date_won",type:"date",name:"date_won",value:n.date_won,className:"block w-full mt-1",onChange:t=>i("date_won",t.target.value)})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"edit_estimate_arrival_date",className:"my-2 text-base md:text-xl text-nowrap",value:"Estimate Arrival Date"}),e.jsx(m,{id:"edit_estimate_arrival_date",type:"date",name:"estimate_arrival_date",value:n.estimate_arrival_date,className:"block w-full mt-1",onChange:t=>i("estimate_arrival_date",t.target.value)})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"edit_arrival_date",className:"my-2 text-base md:text-xl text-nowrap",value:"Arrival Date"}),e.jsx(m,{id:"edit_arrival_date",type:"date",name:"arrival_date",value:n.arrival_date,className:"block w-full mt-1",onChange:t=>i("arrival_date",t.target.value)})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"edit_won_price",className:"my-2 text-base md:text-xl text-nowrap",value:"Won Price "}),e.jsx(m,{id:"edit_won_price",type:"number",name:"won_price",value:n.won_price,className:"block w-full mt-1",onChange:t=>i("won_price",t.target.value)})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"edit_shipping_cost",className:"my-2 text-base md:text-xl text-nowrap",value:"Shipping Cost"}),e.jsx("h2",{className:"text-2xl",children:d.shipping_cost})]})]}),g&&Object.keys(g).length>0&&e.jsx("div",{className:"p-6",children:e.jsx("ul",{className:"mt-2 text-red-600 list-disc list-inside",children:Object.keys(g).map(t=>e.jsx("li",{children:g[t]},t))})})]}),e.jsxs("div",{className:"flex justify-end gap-2 m-5",children:[e.jsx("button",{type:"button",onClick:()=>B(),className:"px-4 py-2 text-white bg-gray-600 rounded hover:bg-gray-700",children:"إلغاء"}),e.jsx("button",{type:"submit",className:"px-4 py-2 text-white rounded bg-burntOrange ",children:"حفظ التغييرات"})]})]})}),e.jsx(O,{value:"shipping_fees",children:e.jsxs("div",{className:" flex flex-col justify-between h-[85vh] overflow-auto",children:[e.jsxs("div",{children:[e.jsx("div",{className:"flex justify-between w-3/5 m-5 md:w-1/5",children:e.jsx(p,{items:_e,onItemSelect:Je,placeholder:"اختر تكلفة الشحن",emptyMessage:"لا يوجد تكاليف شحن"})}),e.jsx("div",{className:"w-[98%] mx-auto",children:_.length===0?e.jsx("div",{className:"m-10 text-center text-gray-500 dark:text-gray-400",children:"لم يتم اختيار اي تكاليف شحن"}):e.jsxs("table",{className:"w-full text-gray-700 border-collapse dark:text-gray-100",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-200 dark:bg-gray-600",children:[e.jsx("th",{className:"p-2 text-xs border dark:border-gray-700 text-nowrap md:text-base",children:"التكلفة"}),e.jsx("th",{className:"p-2 text-xs border dark:border-gray-700 text-nowrap md:text-base",children:"القيمة"}),e.jsx("th",{className:"p-2 text-xs border dark:border-gray-700 text-nowrap md:text-base",children:"التاريخ"}),e.jsx("th",{className:"p-2 text-xs border dark:border-gray-700 text-nowrap md:text-base",children:"الإنشاء بواسطة"}),e.jsx("th",{className:"p-2 text-xs border dark:border-gray-700 text-nowrap md:text-base",children:"التحديث"}),e.jsx("th",{className:"p-2 text-xs border dark:border-gray-700 text-nowrap md:text-base",children:"التحديث بواسطة"}),e.jsx("th",{className:"p-2 text-xs border dark:border-gray-700 text-nowrap md:text-base",children:"إجراءات"})]})}),e.jsxs("tbody",{children:[_.map((t,s)=>e.jsxs("tr",{className:`${s%2===0?"bg-white":"bg-gray-100"} border-b dark:${s%2===0?"bg-gray-800":"bg-gray-700"} dark:border-gray-700`,children:[e.jsx("td",{className:"p-2 text-xs border text-nowrap md:text-base dark:border-gray-700",children:t.name}),e.jsx("td",{className:"p-2 border dark:border-gray-700",children:e.jsx(m,{type:"number",value:t.amount,className:"w-full p-1 bg-transparentdark:text-gray-200 min-w-28",onChange:l=>we(s,"amount",l.target.value)})}),e.jsx("td",{className:"p-2 text-center border dark:border-gray-700 text-nowrap",children:t.created_at?e.jsx("span",{children:t.created_at}):e.jsx(w,{type:"date",className:"w-full p-1 bg-transparent dark:text-gray-200 min-w-28",onChange:l=>we(s,"create_date",l.target.value)})}),e.jsx("td",{className:"p-2 text-center border dark:border-gray-700 text-nowrap ",children:t.created_by_name||""}),e.jsx("td",{className:"p-2 text-center border dark:border-gray-700 text-nowrap ",children:t.updated_at||""}),e.jsx("td",{className:"p-2 text-center border dark:border-gray-700 text-nowrap ",children:t.updated_by_name||""}),e.jsx("td",{className:"p-2 text-center border dark:border-gray-700 text-nowrap ",children:e.jsx("button",{type:"button",className:"p-1 text-red-600 hover:bg-red-100 dark:text-red-400 dark:hover:bg-red-800",onClick:l=>Qe(s,l),children:e.jsx(Fe,{className:"w-4 h-4"})})})]},s)),e.jsxs("tr",{className:"font-bold bg-gray-200 dark:bg-gray-600",children:[e.jsx("td",{className:"p-2 border dark:border-gray-700",colSpan:"1",children:"Shipping Cost"}),e.jsx("td",{className:"p-2 border dark:border-gray-700",colSpan:"6",children:n.shipping_cost})]})]})]})})]}),g&&Object.keys(g).length>0&&e.jsx("div",{className:"p-3 md:p-6",children:e.jsx("ul",{className:"mt-2 text-red-600 list-disc list-inside",children:Object.keys(g).map(t=>e.jsx("li",{children:g[t]},t))})}),e.jsxs("div",{className:"flex justify-end gap-3 m-5",children:[e.jsx("button",{type:"button",onClick:B,className:"px-4 py-2 text-white bg-gray-600 rounded hover:bg-gray-700",children:"إلغاء"}),e.jsx("button",{type:"submit",className:"px-4 py-2 text-white rounded bg-burntOrange ",children:"حفظ"})]})]})}),e.jsx(O,{value:"photos",children:e.jsxs("div",{className:"flex flex-col justify-between h-[85vh] overflow-auto",children:[e.jsxs("div",{className:"p-3 md:p-6",children:[e.jsxs("div",{className:"mb-5 md:w-1/2 lg:w-1/4",children:[e.jsx(a,{htmlFor:"edit_images",className:"mt-2 text-base md:text-xl text-nowrap",value:"Car Photos"}),e.jsx(w,{id:"edit_images",type:"file",name:"images",multiple:!0,className:"block w-full mt-1",onChange:Xe}),e.jsx(u,{message:g.images,className:"mt-2"})]}),e.jsx("div",{className:"gap-4 sm:columns-2 md:columns-5",children:Ne.map((t,s)=>e.jsxs("div",{className:"relative mb-4 break-inside-avoid",children:[e.jsx("span",{className:"absolute text-3xl font-bold text-red-500 cursor-pointer top-3 left-3",onClick:()=>Ze(s),children:"×"}),e.jsx("img",{className:"w-full h-auto rounded-lg",src:t.image_url,alt:`Car Image ${s+1}`}),e.jsxs("span",{className:"block mt-1 text-xs text-gray-600 dark:text-white",children:["اضافة بواسطة: ",t.created_by]}),e.jsxs("span",{className:"block mt-1 text-xs text-gray-600 dark:text-white",children:["تاريخ: ",t.created_at]})]},s))}),e.jsx("div",{className:"gap-4 mt-5 sm:columns-2 md:columns-5",children:He.map((t,s)=>e.jsxs("div",{className:"relative mb-4 break-inside-avoid",children:[e.jsx("span",{className:"absolute text-3xl font-bold text-red-500 cursor-pointer top-3 left-3",onClick:()=>qe(s),children:"×"}),e.jsx("img",{className:"w-full h-auto rounded-lg",src:t.url,alt:t.name})]},s))}),g&&Object.keys(g).length>0&&e.jsx("div",{className:"p-3 md:p-6",children:e.jsx("ul",{className:"mt-2 text-red-600 list-disc list-inside",children:Object.keys(g).map(t=>e.jsx("li",{children:g[t]},t))})})]}),e.jsxs("div",{className:"flex justify-end gap-2 m-5",children:[e.jsx("button",{type:"button",onClick:()=>B(),className:"px-4 py-2 text-white bg-gray-600 rounded hover:bg-gray-700",children:"إلغاء"}),e.jsx("button",{type:"submit",className:"px-4 py-2 text-white rounded bg-burntOrange ",children:"حفظ التغييرات"})]})]})})]})})})]})}function p({items:y,onItemSelect:K,placeholder:V,selectedMakeId:L,emptyMessage:$}){const[f,A]=o.useState(!1),[I,T]=o.useState(null);return o.useEffect(()=>{if(L){const N=y.find(W=>String(W.id)===String(L))||null;T(N)}else T(null)},[L,y]),e.jsxs(xt,{open:f,onOpenChange:A,children:[e.jsx(mt,{asChild:!0,children:e.jsxs(ot,{variant:"outline",role:"combobox","aria-expanded":f,className:"justify-between w-full",children:[I?I.name:V,e.jsx(ht,{className:"w-4 h-4 ml-2 opacity-50 shrink-0"})]})}),e.jsx(pt,{className:"w-full p-0",children:e.jsxs(gt,{children:[e.jsx(ut,{placeholder:"ابحث ..."}),e.jsx(jt,{children:y&&y.length===0?e.jsx(bt,{children:$}):e.jsx(vt,{children:y&&y.map(N=>e.jsxs(Nt,{value:N.name,"data-name":N.name,onSelect:()=>{T(N),K(N),A(!1)},children:[e.jsx(yt,{className:`mr-2 h-4 w-4 ${(I==null?void 0:I.id)===N.id?"opacity-100":"opacity-0"}`}),N.name]},N.id))})})]})})]})}export{$t as default};
