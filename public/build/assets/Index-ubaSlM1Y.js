import{r as i,W as b,j as e,a as z,Y as A,y as j}from"./app-BdDiG5MF.js";import{P as K}from"./Pagination-D79vMfMK.js";import{T as o}from"./TextInput-BnM8wpwZ.js";import{A as P}from"./AuthenticatedLayout-CBw7v3pZ.js";import{I as y}from"./InputLabel-076v0EPL.js";import{I as N}from"./InputError-PGD3Jzm_.js";import"./transition-Dkp8VegQ.js";import"./ThemeToggleButton-yQEJwIpi.js";function H({site_settings:c,auth:r,makes:l,queryParams:a=null}){a=a||{};const[m,f]=i.useState(!1),[x,w]=i.useState(!1),[k,h]=i.useState(null),n=()=>{f(!m)},d=(t=null)=>{t?(h(t),g({name:t.name,_method:"PUT"})):(h(null),p()),w(!x)},u=(t,s)=>{s?a[t]=s:delete a[t],delete a.page,j.get(route("make.index"),a)},v=(t,s)=>{s.key==="Enter"&&u(t,s.target.value)},M=t=>{window.confirm("هل انت متأكد من حذف الماركه ؟ ")&&j.delete(route("make.destroy",t.id),{onSuccess:s=>{}})},{data:C,setData:E,post:I,errors:S,reset:D}=b({name:"",email:"",password:""}),{data:O,setData:g,post:_,errors:F,reset:p}=b({name:"",email:"",password:"",_method:"PUT"}),T=t=>{t.preventDefault(),I(route("make.store"),{onSuccess:()=>{D(),n()}})},R=t=>{t.preventDefault(),_(route("make.update",k.id),{onSuccess:()=>{p(),d()}})};return e.jsxs(P,{user:r.user,site_settings:c,header:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold leading-tight dark:text-gray-200",children:"ماركات السيارات Makes"}),e.jsxs("div",{className:"flex gap-4",children:[r.user.permissions.includes("create-make")&&e.jsx("button",{onClick:n,className:"px-3 py-2 text-sm text-white transition-all rounded shadow md:text-base text-nowrap bg-burntOrange ",children:"اضافة ماركة"}),r.user.permissions.includes("create-model")&&e.jsx(z,{href:route("model.index"),className:"px-3 py-2 text-sm text-white transition-all rounded shadow md:text-base text-nowrap bg-emerald-400",children:"موديلات السيارات"})]})]}),children:[e.jsx(A,{title:c.websiteName+" - ماركات السيارات Makes"}),e.jsx("div",{className:"",children:e.jsx("div",{className:"mx-auto ",children:e.jsx("div",{className:"overflow-hidden overflow-y-auto bg-white shadow-sm dark:bg-gray-800 ",children:e.jsxs("div",{className:"p-3 text-gray-900 md:p-3 dark:text-gray-100",children:[e.jsx("div",{className:"overflow-auto",children:e.jsxs("table",{className:"w-full text-sm text-left text-gray-500 rtl:text-right dark:text-gray-400",children:[e.jsx("thead",{className:"text-gray-700 uppercase border-b-2 border-gray-500 bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:e.jsxs("tr",{className:"text-nowrap",children:[e.jsx("td",{children:"Id"}),e.jsx("td",{children:"الاسم"}),e.jsx("th",{className:"p-3",children:"الإجراءات"})]})}),e.jsx("thead",{className:"text-xs text-gray-700 uppercase border-b-2 border-gray-500 bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:e.jsxs("tr",{className:"text-nowrap",children:[e.jsx("th",{className:"p-3"}),e.jsx("th",{className:"p-3",children:e.jsx(o,{className:"w-full",defaultValue:a.name,placeholder:"الاسم",onBlur:t=>u("name",t.target.value),onKeyPress:t=>v("name",t)})}),e.jsx("th",{className:"p-3"})]})}),e.jsx("tbody",{children:l&&l.data.length>0?l.data.map((t,s)=>e.jsxs("tr",{className:`${s%2===0?"bg-white":"bg-gray-100"} border-b dark:${s%2===0?"bg-gray-800":"bg-gray-700"} dark:border-gray-700`,children:[e.jsx("td",{className:"px-3 py-2",children:t.id}),e.jsx("th",{className:"px-3 py-2 text-nowrap",children:t.name}),e.jsxs("td",{className:"px-3 py-2 text-nowrap",children:[r.user.permissions.includes("update-make")&&e.jsx("button",{onClick:()=>d(t),className:"mx-1 font-medium text-blue-600 dark:text-blue-500 hover:underline",children:"تعديل"}),r.user.permissions.includes("delete-make")&&e.jsx("button",{onClick:()=>M(t),className:"mx-1 font-medium text-red-600 dark:text-red-500 hover:underline",children:"حذف"})]})]},t.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-3 py-2 text-center",children:"لا يوجد مركات (Makes)"})})})]})}),l&&e.jsx(K,{links:l.meta.links})]})})})}),m&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:e.jsxs("div",{className:"transition-all duration-300 ease-in-out transform scale-95 bg-white rounded-lg shadow-lg sm:w-1/2 dark:bg-gray-800 animate-in",children:[e.jsx("div",{className:"p-4 border-b",children:e.jsx("h2",{className:"text-lg font-semibold dark:text-white",children:"إضافة ماركة"})}),e.jsx("div",{className:"p-6",children:e.jsxs("form",{onSubmit:T,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(y,{htmlFor:"make_name",value:"اسم الماركة"}),e.jsx(o,{id:"make_name",type:"text",name:"name",value:C.name,className:"block w-full mt-1",isFocused:!0,onChange:t=>E("name",t.target.value)}),e.jsx(N,{message:S.name,className:"mt-2"})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-white bg-gray-600 rounded hover:bg-gray-700",children:"إلغاء"}),e.jsx("button",{type:"submit",className:"px-4 py-2 text-white rounded bg-burntOrange ",children:"حفظ"})]})]})})]})}),x&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:e.jsxs("div",{className:"transition-all duration-300 ease-in-out transform scale-95 bg-white rounded-lg shadow-lg sm:w-1/2 dark:bg-gray-800 animate-in",children:[e.jsx("div",{className:"p-4 border-b",children:e.jsx("h2",{className:"text-lg font-semibold dark:text-white",children:"تعديل الماركة"})}),e.jsx("div",{className:"p-6",children:e.jsxs("form",{onSubmit:R,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(y,{htmlFor:"edit_make_name",value:"اسم الماركة"}),e.jsx(o,{id:"edit_make_name",type:"text",name:"name",value:O.name,className:"block w-full mt-1",isFocused:!0,onChange:t=>g("name",t.target.value)}),e.jsx(N,{message:F.name,className:"mt-2"})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{type:"button",onClick:()=>d(),className:"px-4 py-2 text-white bg-gray-600 rounded hover:bg-gray-700",children:"إلغاء"}),e.jsx("button",{type:"submit",className:"px-4 py-2 text-white rounded bg-burntOrange ",children:"حفظ التغييرات"})]})]})})]})})]})}export{H as default};
