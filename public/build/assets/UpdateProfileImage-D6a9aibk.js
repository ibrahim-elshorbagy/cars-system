import{q as P,r as i,W as v,j as e}from"./app-BdDiG5MF.js";import{I as y}from"./InputError-PGD3Jzm_.js";import{P as b}from"./PrimaryButton-Dh7ouXVj.js";import{S as p}from"./SecondaryButton-BO4mVXmG.js";function S({className:m=""}){const t=P().props.auth.user,[r,a]=i.useState(t.profile_photo_url),n=i.useRef(null),{setData:l,post:d,errors:u,processing:h}=v({photo:null}),f=o=>{const s=o.target.files[0];if(s){const c=new FileReader;c.onload=N=>{a(N.target.result),l("photo",s)},c.readAsDataURL(s)}},x=()=>{n.current.click()},j=()=>{a(null),l("photo",null)},g=o=>{o.preventDefault(),d(route("profile.update-photo"))};return e.jsxs("section",{className:m,children:[e.jsx("header",{children:e.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"تتحديث الصورة"})}),e.jsxs("form",{onSubmit:g,className:"mt-6 space-y-6",children:[e.jsx("input",{id:"photo",ref:n,type:"file",className:"hidden",onChange:f}),e.jsx("div",{className:"mt-2",children:r?e.jsx("img",{src:r,alt:t.name,className:"object-cover w-20 h-20 rounded-full"}):e.jsx("span",{className:"block w-20 h-20 bg-gray-200 rounded-full"})}),e.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[e.jsx(p,{type:"button",onClick:x,children:"اختيار صورة جديدة"}),t.profile_photo_path&&e.jsx(p,{type:"button",onClick:j,children:"حذف"})]}),e.jsx(y,{message:u.photo,className:"mt-2"}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsx(b,{disabled:h,children:"حفظ"})})]})]})}export{S as default};
