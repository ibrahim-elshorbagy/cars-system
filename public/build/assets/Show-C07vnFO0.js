import{r as d,j as e,Y as v}from"./app-BdDiG5MF.js";import{A as C}from"./AuthenticatedLayout-CBw7v3pZ.js";import{T as S,a as F,b as x,c as i}from"./tabs-C4N2sP_9.js";import{F as g,a as j}from"./ThemeToggleButton-yQEJwIpi.js";import{B as y}from"./button-DTwe3eK1.js";import{C as T,a as E}from"./chevron-right-mw3nr0vj.js";import"./transition-Dkp8VegQ.js";function $({auth:b,site_settings:n,car:s}){var o;const[w,h]=d.useState(!1),[N,c]=d.useState(0),[l,f]=d.useState([]);d.useEffect(()=>{const a=[];s.imagesForShow.forEach(t=>{t.images.forEach(r=>{a.push(r)})}),f(a)},[s.imagesForShow]);const k=a=>{const t=l.findIndex(r=>r.image_url===a);t!==-1&&(c(t),h(!0))},p=()=>{h(!1)},u=()=>{c(a=>a===0?l.length-1:a-1)},_=()=>{c(a=>a===l.length-1?0:a+1)};return e.jsxs(C,{user:b.user,site_settings:n,header:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold leading-tight dark:text-gray-200",children:"معلومات السيارة"}),e.jsx("button",{onClick:()=>window.history.back(),className:"px-3 py-1 text-white transition-all rounded shadow bg-emerald-400",children:"الرجوع"})]}),children:[e.jsx(v,{title:n.websiteName+" - معلومات السيارة"}),e.jsx("div",{children:e.jsx("div",{className:"mx-auto",children:e.jsx("div",{className:"bg-white shadow-sm dark:bg-gray-800",children:e.jsx("div",{className:"p-3 text-gray-900 md:p-3 dark:text-gray-100",children:e.jsx("div",{className:"mt-6",children:e.jsxs(S,{defaultValue:"general",children:[e.jsx(F,{className:"",children:e.jsxs("div",{children:[e.jsx(x,{value:"general",children:"General"}),e.jsx(x,{value:"shipping",children:"Shipping"}),e.jsx(x,{value:"shipping_fees",children:"Shipping Fees"}),e.jsx(x,{value:"photos",children:"Photos"})]})}),e.jsx(i,{value:"general",children:e.jsx("table",{className:"w-full text-sm text-left text-gray-500 ltr:text-left dark:text-gray-100",children:e.jsxs("tbody",{children:[e.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-700",children:[e.jsx("th",{className:"px-3 py-3 ",children:s.customer_name}),e.jsx("td",{className:"w-20 px-3 py-3 text-left whitespace-nowrap",children:"Customer Name"})]}),e.jsxs("tr",{className:"bg-white dark:bg-gray-800",children:[e.jsx("th",{className:"px-3 py-3 ",children:s.chassis}),e.jsx("td",{className:"w-20 px-3 py-3 text-left whitespace-nowrap",children:"Chassis"})]}),e.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-700",children:[e.jsx("th",{className:"px-3 py-3 ",children:s.make_name}),e.jsx("td",{className:"w-20 px-3 py-3 text-left whitespace-nowrap",children:"Make"})]}),e.jsxs("tr",{className:"bg-white dark:bg-gray-800",children:[e.jsx("th",{className:"px-3 py-3 ",children:s.model_name}),e.jsx("td",{className:"w-20 px-3 py-3 text-left whitespace-nowrap",children:"Model"})]}),e.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-700",children:[e.jsx("th",{className:"px-3 py-3 ",children:s.color}),e.jsx("td",{className:"w-20 px-3 py-3 text-left whitespace-nowrap",children:"Color"})]}),e.jsxs("tr",{className:"bg-white dark:bg-gray-800",children:[e.jsx("th",{className:"px-3 py-3 ",children:s.year}),e.jsx("td",{className:"w-20 px-3 py-3 text-left whitespace-nowrap",children:"Year"})]}),e.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-700",children:[e.jsx("th",{className:"flex justify-end px-3 py-3",children:s.keys==1?e.jsx(g,{className:"w-6 h-6 text-green-500"}):e.jsx(j,{className:"w-6 h-6 text-red-500"})}),e.jsx("td",{className:"w-20 px-3 py-3 text-left whitespace-nowrap",children:"Keys"})]}),e.jsxs("tr",{className:"bg-white dark:bg-gray-800",children:[e.jsx("th",{className:"flex justify-end px-3 py-3 ",children:s.title==1?e.jsx(g,{className:"w-6 h-6 text-green-500"}):e.jsx(j,{className:"w-6 h-6 text-red-500"})}),e.jsx("td",{className:"w-20 px-3 py-3 text-left whitespace-nowrap",children:"Title"})]}),e.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-700",children:[e.jsx("th",{className:"px-3 py-3 ",children:s.carfax_report_url?e.jsx("a",{href:s.carfax_report_url,className:"text-blue-500 hover:underline",children:"View Carfax Report"}):e.jsx("p",{children:"لا يوجد"})}),e.jsx("td",{className:"w-20 px-3 py-3 text-left whitespace-nowrap",children:"Carfax Report"})]}),e.jsxs("tr",{className:"bg-White dark:bg-gray-800",children:[e.jsx("th",{className:"px-3 py-3 ",children:s.created_at}),e.jsx("td",{className:"w-20 px-3 py-3 text-left whitespace-nowrap",children:"تاريخ الانشاء"})]}),e.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-700",children:[e.jsx("th",{className:"px-3 py-3 ",children:s.created_by}),e.jsx("td",{className:"w-20 px-3 py-3 text-left whitespace-nowrap",children:"انشئ بوسطة"})]}),e.jsxs("tr",{className:"bg-white dark:bg-gray-800",children:[e.jsx("th",{className:"px-3 py-3 ",children:s.updated_at}),e.jsx("td",{className:"w-20 px-3 py-3 text-left whitespace-nowrap",children:"تاريخ التحديث"})]}),e.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-700",children:[e.jsx("th",{className:"px-3 py-3 ",children:s.updated_by}),e.jsx("td",{className:"w-20 px-3 py-3 text-left whitespace-nowrap",children:"تحديث بواسطه"})]})]})})}),e.jsx(i,{value:"shipping",children:e.jsx("table",{className:"w-full text-sm text-left text-gray-500 ltr:text-left dark:text-gray-100",children:e.jsxs("tbody",{children:[e.jsxs("tr",{className:"bg-white dark:bg-gray-800",children:[e.jsx("th",{className:"px-3 py-3 ",children:s.ship_status}),e.jsx("td",{className:"w-20 px-3 py-3 text-left whitespace-nowrap",children:"Status"})]}),e.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-700",children:[e.jsx("th",{className:"px-3 py-3 ",children:s.lot}),e.jsx("td",{className:"w-20 px-3 py-3 text-left whitespace-nowrap",children:"Lot/Sotok"})]}),e.jsxs("tr",{className:"bg-white dark:bg-gray-800",children:[e.jsx("th",{className:"px-3 py-3 ",children:s.bookingNo}),e.jsx("td",{className:"w-20 px-3 py-3 text-left whitespace-nowrap",children:"Booking No"})]}),e.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-700",children:[e.jsx("th",{className:"px-3 py-3 ",children:s.container_number}),e.jsx("td",{className:"w-20 px-3 py-3 text-left whitespace-nowrap",children:"Container Number"})]}),e.jsxs("tr",{className:"bg-white dark:bg-gray-800",children:[e.jsx("th",{className:"px-3 py-3 ",children:s.vendor_name}),e.jsx("td",{className:"w-20 px-3 py-3 text-left whitespace-nowrap",children:"Vendor"})]}),e.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-700",children:[e.jsx("th",{className:"px-3 py-3 ",children:s.destination_name}),e.jsx("td",{className:"w-20 px-3 py-3 text-left whitespace-nowrap",children:"Destination"})]}),e.jsxs("tr",{className:"bg-white dark:bg-gray-800",children:[e.jsx("th",{className:"px-3 py-3 text-blue-600",children:e.jsx("a",{href:s.line_website,children:s.line_name})}),e.jsx("td",{className:"w-20 px-3 py-3 text-left whitespace-nowrap",children:"Shipping Line"})]}),e.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-700",children:[e.jsx("th",{className:"px-3 py-3 ",children:s.facility_name}),e.jsx("td",{className:"w-20 px-3 py-3 text-left whitespace-nowrap",children:"Facility"})]}),e.jsxs("tr",{className:"bg-white dark:bg-gray-800",children:[e.jsx("th",{className:"px-3 py-3 ",children:s.terminal_name}),e.jsx("td",{className:"w-20 px-3 py-3 text-left whitespace-nowrap",children:"Terminal"})]}),e.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-700",children:[e.jsx("th",{className:"px-3 py-3 ",children:s.date_won}),e.jsx("td",{className:"w-20 px-3 py-3 text-left whitespace-nowrap",children:"Date Won"})]}),e.jsxs("tr",{className:"bg-white dark:bg-gray-800",children:[e.jsx("th",{className:"px-3 py-3 ",children:s.estimate_arrival_date}),e.jsx("td",{className:"w-20 px-3 py-3 text-left whitespace-nowrap",children:"Estimated Arrival Date"})]}),e.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-700",children:[e.jsx("th",{className:"px-3 py-3 ",children:s.arrival_date}),e.jsx("td",{className:"w-20 px-3 py-3 text-left whitespace-nowrap",children:"Arrival Date"})]}),e.jsxs("tr",{className:"bg-white dark:bg-gray-800",children:[e.jsx("th",{className:"px-3 py-3 ",children:s.won_price}),e.jsx("td",{className:"w-20 px-3 py-3 text-left whitespace-nowrap",children:"Won Price"})]}),e.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-700",children:[e.jsx("th",{className:"px-3 py-3 ",children:s.shipping_cost}),e.jsx("td",{className:"w-20 px-3 py-3 text-left whitespace-nowrap",children:"Shipping Cost"})]})]})})}),e.jsx(i,{value:"shipping_fees",children:e.jsx("div",{className:"w-[98%] mx-auto",children:s.shipping_expenses.length===0?e.jsx("div",{className:"m-10 text-center text-gray-500 dark:text-gray-400",children:"لم يتم اختيار اي تكاليف شحن"}):e.jsx(e.Fragment,{children:(()=>{const a=s.shipping_expenses.reduce((t,r)=>t+parseFloat(r.amount),0);return e.jsxs("table",{className:"w-full text-gray-700 border-collapse dark:text-gray-100",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-200 dark:bg-gray-600",children:[e.jsx("th",{className:"p-2 text-xs text-right border dark:border-gray-700 text-nowrap md:text-base",children:"التكلفة"}),e.jsx("th",{className:"p-2 text-xs text-right border dark:border-gray-700 text-nowrap md:text-base",children:"القيمة"}),e.jsx("th",{className:"p-2 text-xs text-right border dark:border-gray-700 text-nowrap md:text-base",children:"التاريخ"}),e.jsx("th",{className:"p-2 text-xs text-right border dark:border-gray-700 text-nowrap md:text-base",children:" الإنشاء بواسطة"}),e.jsx("th",{className:"p-2 text-xs text-right border dark:border-gray-700 text-nowrap md:text-base",children:"تاريخ التحديث"}),e.jsx("th",{className:"p-2 text-xs text-right border dark:border-gray-700 text-nowrap md:text-base",children:" التحديث بواسطة"})]})}),e.jsxs("tbody",{children:[s.shipping_expenses.map((t,r)=>e.jsxs("tr",{className:`${r%2===0?"bg-white":"bg-gray-100"} border-b dark:${r%2===0?"bg-gray-800":"bg-gray-700"} dark:border-gray-700`,children:[e.jsx("td",{className:"p-2 text-xs border text-nowrap md:text-base dark:border-gray-700",children:t.name}),e.jsx("td",{className:"p-2 border dark:border-gray-700",children:parseFloat(t.amount).toFixed(2)}),e.jsx("td",{className:"p-2 text-xs border text-nowrap md:text-base dark:border-gray-700",children:t.created_at}),e.jsx("td",{className:"p-2 text-xs border text-nowrap md:text-base dark:border-gray-700",children:t.created_by_name||""}),e.jsx("td",{className:"p-2 text-xs border text-nowrap md:text-base dark:border-gray-700",children:t.updated_at||""}),e.jsx("td",{className:"p-2 text-xs border text-nowrap md:text-base dark:border-gray-700",children:t.updated_by_name||""})]},r)),e.jsxs("tr",{className:"font-bold bg-gray-200 dark:bg-gray-600",children:[e.jsx("td",{className:"p-2 border dark:border-gray-700",colSpan:"1",children:"مجموع التكاليف"}),e.jsx("td",{className:"p-2 border dark:border-gray-700",colSpan:"5",children:a.toFixed(2)})]})]})]})})()})})}),e.jsx(i,{value:"photos",children:e.jsx("div",{children:e.jsx("div",{className:"flex flex-col my-6",children:s.imagesForShow.map((a,t)=>e.jsxs("div",{className:"my-8",children:[e.jsx("h3",{className:"px-6 py-3 mb-4 text-xl font-bold text-right text-black bg-blue-100 rounded-lg",children:a.date}),e.jsx("div",{className:"flex flex-wrap gap-4",children:a.images.map((r,m)=>e.jsxs("div",{className:"w-32 h-32 cursor-pointer md:w-64 md:h-64",onClick:()=>k(r.image_url),children:[e.jsx("img",{className:"object-cover w-full h-full rounded-lg",src:r.image_url,alt:`Car Image ${t+1}-${m+1}`}),e.jsx("div",{className:"mt-2 text-sm",children:e.jsxs("p",{children:["اضافة بواسطة: ",r.created_by]})})]},m))})]},t))})})})]})})})})})}),w&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75 ",onClick:p,children:e.jsxs("div",{className:"relative  max-w-[90%]",onClick:a=>a.stopPropagation(),children:[e.jsx("button",{className:"absolute text-3xl text-white top-2 right-2",onClick:p,children:"×"}),e.jsx(y,{variant:"outline",size:"icon",className:"absolute left-0 transform -translate-y-1/2 top-1/2",onClick:a=>{a.stopPropagation(),u()},children:e.jsx(T,{className:"w-4 h-4 dark:text-white"})}),e.jsx("img",{className:" max-h-[90%]",src:(o=l[N])==null?void 0:o.image_url,alt:"Selected Car"}),e.jsx(y,{variant:"outline",size:"icon",className:"absolute right-0 transform -translate-y-1/2 top-1/2",onClick:a=>{a.stopPropagation(),_()},children:e.jsx(E,{className:"w-4 h-4 dark:text-white"})})]})})]})}export{$ as default};
